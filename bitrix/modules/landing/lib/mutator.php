<? namespace Bitrix\Landing;$GLOBALS['____474217395']= array(base64_decode(''.'ZGVmaW5l'),base64_decode('ZX'.'hw'.'bG'.'9kZ'.'Q=='),base64_decode('cGFjaw'.'=='),base64_decode('bWQ1'),base64_decode('Y'.'29u'.'c3'.'R'.'h'.'b'.'nQ'.'='),base64_decode('aGFz'.'aF9ob'.'WFj'),base64_decode(''.'c3R'.'y'.'Y'.'2'.'1w'),base64_decode('ZXhwbG9kZ'.'Q='.'='),base64_decode('bWt0aW1'.'l'),base64_decode('dGltZQ=='),base64_decode('Z'.'X'.'hwbG9k'.'ZQ=='),base64_decode('cG'.'Fjaw=='),base64_decode('bWQ1'),base64_decode('Y2'.'9uc3Rhb'.'nQ='),base64_decode('aGFz'.'aF9obWFj'),base64_decode('c3RyY21w'),base64_decode('ZXhwbG'.'9kZQ=='),base64_decode('bWt'.'0aW'.'1l'),base64_decode('dGl'.'tZQ=='),base64_decode(''.'aW5fYX'.'JyYXk='),base64_decode(''.'cHJ'.'lZ19yZXBsYWNlX2NhbGxiYWNr'),base64_decode('c3Ry'.'d'.'G9sb3dl'.'cg=='),base64_decode(''.'cHJl'.'Z'.'19tY'.'XRjaA=='),base64_decode('cHJlZ19yZ'.'XB'.'s'.'YWNlX2NhbGxiY'.'WNr'));if(!function_exists(__NAMESPACE__.'\\___489329145')){function ___489329145($_1432822303){static $_1134881830= false; if($_1134881830 == false) $_1134881830=array('TEFORE'.'lOR19NVVRBVE9S'.'X0'.'1PR'.'EU=','Zm'.'l'.'s'.'d'.'G'.'Vy','IUlE',''.'UFVCTElDX1B'.'BR0V'.'fUkVBQ0'.'hF'.'RA==','TEFORE'.'lOR19'.'QVUJ'.'MSU'.'N'.'f'.'U'.'EFHRV9'.'SRUF'.'D'.'SEVE',''.'c'.'2V'.'sZW'.'N'.'0','S'.'UQ=','VFl'.'QRQ==','ZmlsdGVy','SUQ=','PU'.'FDVElWRQ'.'==',''.'Tg==',''.'Z'.'mlsdGVy',''.'IUl'.'E','SUQ=','d'.'HlwZQ==',''.'VF'.'lQR'.'Q==','UFVC'.'T'.'ElD'.'X1NJVEVfU'.'kVB'.'Q'.'0hFRA==','TE'.'FOR'.'ElOR19QVUJ'.'MS'.'UN'.'fU0lU'.'RV9SRUFDSEVE',''.'bGFuZGluZw='.'=','b'.'25MYW5ka'.'W5nU'.'HVib'.'GljYX'.'R'.'pb'.'24=','aWQ=','REI=','U0VM'.'RUNU'.'I'.'F'.'ZBTFVFIEZST'.'00gYl'.'9'.'vcHRpb24gV0hFUk'.'UgTkF'.'NRT0nflB'.'BUkFNX'.'0ZJTklTSF9EQVRFJyBBTk'.'QgTU9EVUxF'.'X0lEP'.'Sd'.'tYW'.'lu'.'Jy'.'BBTkQgU0'.'lUR'.'V9JRCBJUy'.'BOVUxM',''.'Vk'.'F'.'MVUU=',''.'Lg==','SCo=','Ym'.'l'.'0cml4','TEl'.'DR'.'U5T'.'RV9'.'LRVk=','c'.'2hhMjU'.'2',''.'Mj'.'AxOC0wMS0wMQ==',''.'MjAxOC0wMS0wM'.'Q==','LQ='.'=','TElDRU5TRV9'.'F'.'W'.'FBJUk'.'VE','T'.'EF'.'ORElOR1'.'9MS'.'UNFTlNFX0VYUEl'.'S'.'RUQ=','RE'.'I=','U'.'0VMRU'.'NUIFZB'.'TFVFIE'.'ZS'.'T00gYl'.'9v'.'cHRpb24g'.'V0hFUkUgTkFNRT0nflBBUkFN'.'X0ZJT'.'klTSF9EQVRFJ'.'yB'.'B'.'TkQg'.'TU'.'9EVUxFX'.'0l'.'EP'.'SdtYW'.'luJyBBTkQ'.'gU'.'0lU'.'R'.'V'.'9'.'JRCBJUyBOVUxM',''.'VkFMVUU=','Lg==','SCo=','Y'.'ml0cml4','T'.'ElDRU'.'5TRV'.'9LRVk=',''.'c2hh'.'MjU2','MjA'.'xOC'.'0w'.'MS0w'.'M'.'Q'.'==','MjAx'.'OC0wMS0'.'wMQ'.'==','LQ==','TElD'.'RU5TRV9FWFB'.'JUkVE',''.'TE'.'F'.'OREl'.'OR19M'.'S'.'UNFTlNFX'.'0V'.'YU'.'ElSRUQ=','QUNU'.'SVZF','WQ='.'=',''.'UFVC'.'TEl'.'D','W'.'Q==','REFU'.'RV9QVUJMSUM=','REF'.'U'.'R'.'V9'.'NT0R'.'J'.'Rl'.'k=',''.'Q'.'UNUSVZF','WQ==',''.'L'.'yhb'.'XD'.'siXXswLDF9'.'K'.'SNib'.'G9j'.'a'.'y'.'hbXGRdKykoW1wmIl17MCwxf'.'Skva'.'XM=',''.'c2VsZ'.'WN0','SU'.'Q=','UFVCTE'.'lD','UE'.'FSRU5UX0lE','Q'.'0'.'9'.'E'.'RQ==','U09SVA==','QUNUSVZF','QU5'.'DSE9'.'S','QUNDRVNT','Q'.'09OVEVO'.'V'.'A==','Zml'.'sd'.'G'.'Vy',''.'TElE','PURFTEVUR'.'UQ=','T'.'g'.'==','SUQ=',''.'UFV'.'CTElD','WQ='.'=','Q09OVE'.'VO'.'V'.'A==','L2'.'h'.'y'.'ZWZcPSI'.'jY2F0YWxvZy'.'hFbGVtZW50fF'.'N'.'l'.'Y3'.'R'.'p'.'b'.'24pKFtc'.'Z'.'F0'.'rKSI'.'vaQ==','aHJ'.'lZj0i','I'.'g='.'=','Q09OV'.'EVOVA='.'=','U'.'EFSR'.'U5U'.'X'.'0'.'lE',''.'U'.'EFSRU5U'.'X'.'0'.'lE','SUQ=',''.'U09SVA==','U09SVA==','QUNUSV'.'Z'.'F','Q'.'UNUSV'.'ZF',''.'QU5DSE9'.'S',''.'QU5DS'.'E9S','QUNDRV'.'N'.'T','Q'.'UND'.'RVNT',''.'Q09OVEVOV'.'A'.'='.'=','Q0'.'9'.'OVE'.'VOVA==','UEFSRU5UX0'.'l'.'E','Q09OVEVOV'.'A='.'=','T'.'El'.'E','Q09E'.'RQ==','Q09ERQ='.'=','U09S'.'VA'.'==',''.'U'.'09SVA='.'=','QU'.'5'.'DS'.'E9S','Q'.'U5DSE'.'9S',''.'QU'.'NU'.'SVZF','QU'.'N'.'U'.'SVZ'.'F','Q'.'UNDR'.'VNT','Q'.'UNDRV'.'NT','Q0'.'9OVEVOVA==','Q09OVEVOVA'.'==','UEFSRU'.'5U'.'X'.'0lE','Q09'.'OVE'.'VOVA==',''.'Q09OVEVOVA==','Q09'.'OVEVOV'.'A==',''.'I2Jsb'.'2'.'Nr','I'.'2Jsb2N'.'r',''.'Q09'.'OVE'.'VO'.'V'.'A==');return base64_decode($_1134881830[$_1432822303]);}}; use \Bitrix\Main\Event; use \Bitrix\Main\EventResult; use \Bitrix\Main\Localization\Loc; Loc::loadMessages(__FILE__); $GLOBALS['____474217395'][0](___489329145(0), true); class Mutator{  public static function landingPublication(Landing $landing){ static $_1973421461= array();  if(!Manager::checkFeature( Manager::FEATURE_PUBLICATION_PAGE, array( ___489329145(1) => array( ___489329145(2) => $landing->getId())))){ $landing->getError()->addError( ___489329145(3), Loc::getMessage(___489329145(4))); return false;}  $_445007508= Site::getList(array( ___489329145(5) => array( ___489329145(6), ___489329145(7)), ___489329145(8) => array( ___489329145(9) => $landing->getSiteId(), ___489329145(10) => ___489329145(11)))); if($_426519270= $_445007508->fetch()){ if(!Manager::checkFeature( Manager::FEATURE_PUBLICATION_SITE, array( ___489329145(12) => array( ___489329145(13) => $_426519270[___489329145(14)]), ___489329145(15) => $_426519270[___489329145(16)]))){ $landing->getError()->addError( ___489329145(17), Loc::getMessage(___489329145(18))); return false;}}  $_983602012= new Event(___489329145(19), ___489329145(20), array( ___489329145(21) => $landing->getId())); $_983602012->send(); foreach($_983602012->getResults() as $_1214776162){ if($_1214776162->getResultType() == EventResult::ERROR){ foreach($_1214776162->getErrors() as $_647495554){ $landing->getError()->addError( $_647495554->getCode(), $_647495554->getMessage());} return false;}} $_858239216= $GLOBALS[___489329145(22)]->Query(___489329145(23), true); if($_445007508= $_858239216->Fetch()){ $_1779821018= $_445007508[___489329145(24)]; list($_1552807283, $_1374197420)= $GLOBALS['____474217395'][1](___489329145(25), $_1779821018); $_1285381288= $GLOBALS['____474217395'][2](___489329145(26), $_1552807283); $_1542327871= ___489329145(27).$GLOBALS['____474217395'][3]($GLOBALS['____474217395'][4](___489329145(28))); $_1049285839= $GLOBALS['____474217395'][5](___489329145(29), $_1374197420, $_1542327871, true); if($GLOBALS['____474217395'][6]($_1049285839, $_1285381288) !==(1456/2-728)){ $_1374197420= ___489329145(30);}} else{ $_1374197420= ___489329145(31);} if(!empty($_1374197420)){ $_158324520= $GLOBALS['____474217395'][7](___489329145(32), $_1374197420); $_943095618= $GLOBALS['____474217395'][8](min(238,0,79.333333333333),(1228/2-614),(131*2-262), $_158324520[round(0+0.25+0.25+0.25+0.25)], $_158324520[round(0+0.66666666666667+0.66666666666667+0.66666666666667)], $_158324520[(962-2*481)]); if($_943095618 <= $GLOBALS['____474217395'][9]()){ $landing->getError()->addError( ___489329145(33), Loc::getMessage(___489329145(34))); return false;}} $_858239216= $GLOBALS[___489329145(35)]->Query(___489329145(36), true); if($_445007508= $_858239216->Fetch()){ $_1779821018= $_445007508[___489329145(37)]; list($_1552807283, $_1374197420)= $GLOBALS['____474217395'][10](___489329145(38), $_1779821018); $_1285381288= $GLOBALS['____474217395'][11](___489329145(39), $_1552807283); $_1542327871= ___489329145(40).$GLOBALS['____474217395'][12]($GLOBALS['____474217395'][13](___489329145(41))); $_1049285839= $GLOBALS['____474217395'][14](___489329145(42), $_1374197420, $_1542327871, true); if($GLOBALS['____474217395'][15]($_1049285839, $_1285381288) !==(215*2-430)){ $_1374197420= ___489329145(43);}} else{ $_1374197420= ___489329145(44);} if(!empty($_1374197420)){ $_158324520= $GLOBALS['____474217395'][16](___489329145(45), $_1374197420); $_943095618= $GLOBALS['____474217395'][17]((1084/2-542),(228*2-456), min(178,0,59.333333333333), $_158324520[round(0+0.2+0.2+0.2+0.2+0.2)], $_158324520[round(0+2)], $_158324520[min(226,0,75.333333333333)]); if($_943095618 <= $GLOBALS['____474217395'][18]()){ $landing->getError()->addError( ___489329145(46), Loc::getMessage(___489329145(47))); return false;}}  Block::publicationBlocks($landing); $_40333343= new \Bitrix\Main\Type\DateTime; $_445007508= Landing::update($landing->getId(), array( ___489329145(48) => ___489329145(49), ___489329145(50) => ___489329145(51), ___489329145(52) => $_40333343, ___489329145(53) => false));  if($_445007508->isSuccess()){ if( Manager::isB24() &&!$GLOBALS['____474217395'][19]($landing->getSiteId(), $_1973421461)){ $_1973421461[]= $landing->getSiteId(); $_445007508= Site::update($landing->getSiteId(), array( ___489329145(54) => ___489329145(55))); $_445007508->isSuccess();} return true;} return false;}  public static function blocksPublication(\Bitrix\Landing\Landing $landing){ if($landing->exist()){ $_996575208= $landing->getId(); $_1534548331= array(); $_1516708391= array(); $_1177216418= array(); $_311000515= ___489329145(56); $_445007508= Block::getList(array( ___489329145(57) => array( ___489329145(58), ___489329145(59), ___489329145(60), ___489329145(61), ___489329145(62), ___489329145(63), ___489329145(64), ___489329145(65), ___489329145(66)), ___489329145(67) => array( ___489329145(68) => $landing->getId(), ___489329145(69) => ___489329145(70)))); while($_426519270= $_445007508->fetch()){ $_1534548331[$_426519270[___489329145(71)]]= $_426519270;}  foreach($_1534548331 as $_539877148 => $_1739193428){ if($_1739193428[___489329145(72)] != ___489329145(73)){  $_1739193428[___489329145(74)]= $GLOBALS['____474217395'][20]( ___489329145(75), function($_1108660222){ return ___489329145(76). PublicAction\Utils::getIblockURL( $_1108660222[round(0+0.5+0.5+0.5+0.5)], $GLOBALS['____474217395'][21]($_1108660222[round(0+0.33333333333333+0.33333333333333+0.33333333333333)])). ___489329145(77);}, $_1739193428[___489329145(78)]); $_306012030= isset($_1534548331[$_1739193428[___489329145(79)]])? $_1534548331[$_1739193428[___489329145(80)]][___489329145(81)]: min(194,0,64.666666666667); if($_306012030){ $_445007508= Block::update($_306012030, array( ___489329145(82) => $_1739193428[___489329145(83)], ___489329145(84) => $_1739193428[___489329145(85)], ___489329145(86) => $_1739193428[___489329145(87)], ___489329145(88) => $_1739193428[___489329145(89)], ___489329145(90) => $_1739193428[___489329145(91)])); $_445007508->isSuccess(); unset($_1534548331[$_1739193428[___489329145(92)]]);  File::replaceInBlock( $_306012030, File::getFilesFromBlockContent( $_539877148, $_1739193428[___489329145(93)]));} else{ $_445007508= Block::add(array( ___489329145(94) => $_996575208, ___489329145(95) => $_1739193428[___489329145(96)], ___489329145(97) => $_1739193428[___489329145(98)], ___489329145(99) => $_1739193428[___489329145(100)], ___489329145(101) => $_1739193428[___489329145(102)], ___489329145(103) => $_1739193428[___489329145(104)], ___489329145(105) => $_1739193428[___489329145(106)])); if($_445007508->isSuccess()){ $_306012030= $_445007508->getId(); $_445007508= Block::update($_539877148, array( ___489329145(107) => $_306012030)); $_445007508->isSuccess();  File::addToBlock( $_306012030, File::getFilesFromBlockContent( $_539877148, $_1739193428[___489329145(108)]));}} if($GLOBALS['____474217395'][22]($_311000515, $_1739193428[___489329145(109)])){ $_1516708391[$_306012030]= $_1739193428[___489329145(110)];} $_1177216418[$_539877148]= $_306012030; unset($_1534548331[$_539877148]);}}  foreach($_1534548331 as $_539877148 => $_1739193428){ $_445007508= Block::delete($_539877148); $_445007508->isSuccess();}  foreach($_1516708391 as $_539877148 => $_381742379){ $_381742379= $GLOBALS['____474217395'][23]( $_311000515, function($_1173834205) use($_1177216418){ if(isset($_1177216418[$_1173834205[round(0+0.66666666666667+0.66666666666667+0.66666666666667)]])){ return $_1173834205[round(0+1)]. ___489329145(111). $_1177216418[$_1173834205[round(0+2)]]. $_1173834205[round(0+1.5+1.5)];} else{ return $_1173834205[round(0+0.2+0.2+0.2+0.2+0.2)]. ___489329145(112). $_1173834205[round(0+1+1)]. $_1173834205[round(0+1+1+1)];}}, $_381742379); $_445007508= Block::update($_539877148, array( ___489329145(113) => $_381742379)); $_445007508->isSuccess();}}}}?>